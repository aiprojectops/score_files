# 🌾 농작물 AI 식별 웹앱

이미지를 업로드하거나 촬영하면 AI가 자동으로 농작물을 식별하고 상세 정보를 제공하는 웹앱입니다!

## ✨ 주요 기능

### 📸 이미지 입력
- **파일 업로드**: 컴퓨터에 저장된 이미지 업로드
- **카메라 촬영**: 스마트폰/웹캠으로 직접 촬영

### 🤖 AI 분석
- **농작물 식별**: GPT-4o-mini Vision으로 정확한 식별
- **확신도 표시**: AI가 얼마나 확신하는지 퍼센트로 표시

### 📊 상세 정보 제공
- **농작물 이름**: 한글 + 영어 이름
- **분류**: 과일/채소/곡물 등
- **유명 생산지**: 어느 지역이 유명한지
- **제철 시기**: 언제가 제철인지
- **영양 정보**: 주요 영양소
- **보관 방법**: 어떻게 보관하면 좋은지
- **맛 특징**: 어떤 맛인지

## 🚀 실행 방법

### 1. 패키지 설치

```bash
pip install -r requirements.txt
```

### 2. API 키 설정

`.env` 파일에 OpenAI API 키가 설정되어 있는지 확인하세요:

```
OPENAI_API_KEY=your_api_key_here
```

### 3. 웹앱 실행

```bash
streamlit run app.py
```

실행하면 자동으로 브라우저가 열립니다!
- **로컬 URL**: http://localhost:8501
- **네트워크 URL**: 표시된 주소로 스마트폰에서도 접속 가능!

## 📱 사용 방법

### 컴퓨터에서 사용
1. `streamlit run app.py` 실행
2. 브라우저에서 열림
3. 이미지 업로드
4. 결과 확인!

### 스마트폰에서 사용
1. 컴퓨터와 스마트폰이 **같은 Wi-Fi**에 연결
2. 터미널에 표시된 **Network URL** 확인
   ```
   Network URL: http://192.168.0.10:8501
   ```
3. 스마트폰 브라우저에서 해당 URL 접속
4. 카메라로 직접 촬영하거나 앨범에서 선택
5. 결과 확인!

## 🎯 활용 팁

### 좋은 사진을 찍으려면:
- ✅ 농작물이 **선명하게** 보이도록
- ✅ **가까이서** 촬영
- ✅ **조명이 밝은** 환경
- ✅ 배경이 복잡하지 않게

### 지원 형식:
- JPG, JPEG, PNG

## 🖼️ 화면 구성

```
┌─────────────────────────────────────────┐
│  🌾 농작물 AI 식별기                     │
├─────────────────────────────────────────┤
│  📸 이미지 선택                          │
│  ○ 파일 업로드  ○ 카메라 촬영          │
│  [이미지 업로드 영역]                    │
├─────────────────────────────────────────┤
│  🔍 분석 결과                            │
│  ┌──────────┬──────────────────────────┐│
│  │ 이미지    │ 🌱 사과 (Apple)          ││
│  │          │ 확신도: 95%               ││
│  │          │ 분류: 과일                ││
│  └──────────┴──────────────────────────┘│
│                                          │
│  📊 상세 정보                            │
│  ┌──────┬──────┬──────────────────────┐│
│  │생산지│제철  │영양 정보              ││
│  ├──────┼──────┼──────────────────────┤│
│  │보관법│맛특징│                      ││
│  └──────┴──────┴──────────────────────┘│
└─────────────────────────────────────────┘
```

## 🔧 커스터마이징

### 분석 항목 추가/수정

`app.py`의 `system_prompt`를 수정하여 원하는 정보를 추가할 수 있습니다:

```python
system_prompt = """당신은 농작물 전문가입니다.
이미지를 보고 다음 정보를 JSON 형식으로 제공하세요:

{
  "name": "농작물 한글 이름",
  # 여기에 원하는 필드 추가
  "price_range": "가격대",
  "recipes": ["추천 요리1", "추천 요리2"]
}
"""
```

### 디자인 변경

Streamlit은 테마 설정을 지원합니다. `.streamlit/config.toml` 파일을 만들어 설정:

```toml
[theme]
primaryColor="#69b34c"
backgroundColor="#ffffff"
secondaryBackgroundColor="#f0f2f6"
textColor="#262730"
font="sans serif"
```

## 📊 기술 스택

- **프론트엔드**: Streamlit (Python 웹 프레임워크)
- **AI 모델**: GPT-4o-mini Vision
- **이미지 처리**: Pillow
- **API**: OpenAI API

## 🆚 배치 분석 vs 웹앱

| 구분 | 배치 분석 (기존) | 웹앱 (신규) |
|------|-----------------|-------------|
| 용도 | 다수 이미지 평가 | 실시간 1개 식별 |
| 입력 | 폴더의 모든 이미지 | 업로드/촬영 |
| 출력 | CSV 파일 + 정확도 | 웹 페이지 |
| 정보 | 이름 + 확신도 | 상세 정보 전체 |
| 사용자 | 개발자/연구자 | 일반 사용자 |

## 💡 활용 사례

- **🏪 마트/시장**: 고객이 농작물 정보 즉시 확인
- **👨‍🌾 농부**: 다른 지역 작물 학습
- **🏫 교육**: 학생들 농작물 교육
- **🏠 가정**: 장보기할 때 정보 확인

## 🚀 배포하기

### Streamlit Cloud에 배포 (무료!)

1. GitHub에 코드 업로드
2. [Streamlit Cloud](https://streamlit.io/cloud) 접속
3. Repository 연결
4. Deploy 클릭!
5. 전 세계 어디서나 접속 가능!

**주의**: `.env` 파일은 GitHub에 올리지 말고, Streamlit Cloud의 Secrets 기능 사용

## 📝 라이선스

교육 목적으로 자유롭게 사용 가능합니다.

---

## 🎉 즐거운 농작물 식별 되세요!

